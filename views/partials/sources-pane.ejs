<!-- Uses EJS var sourcesData to render all provided sources dynamically -->

<div class="row">

<% for (let i=0; i < sourcesData.length; i++) { 
    let sourceData = sourcesData[i]; %>

    <div class="col s6 m4 l4">
        <div class="hoverable medium card sticky-action">
            <div class="card-image">
                <img class="activator" src="<%- sourceData.coverImageUrl %>">
                <!-- Can overlay text on the cover image -->
                <!-- <span class="card-title">Book title here</span> -->
                <!-- Can add floating action button, although its bottom half is hidden when the card div has a size class (medium, large) -->
                <!-- <a href="/sources/12345" class="btn-floating halfway-fab waves-effect waves-light teal hoverable"><i class="material-icons">edit</i></a> -->
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4"><%- sourceData.title %><i class="material-icons right">more_vert</i></span>
                    <p>by <%- sourceData.author %></p>
            </div>
            <div class="card-action">
                <a href="/sources/<%- sourceData.id %>">View Overwrites</a>
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4"><%- sourceData.title %><i class="material-icons right">close</i></span>
                <p>Author: <%- sourceData.author %></p>
                <p>Type: <%- sourceData.type %></p>
                <p>Genre: <%- sourceData.genre %></p>
                <p>Added to catalog by <%- sourceData.userName %> on <%- sourceData.timestamp %></p>
            </div>
        </div>
    </div>

<% } %>
</div>